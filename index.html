<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-WJ5LN7PH');</script>
    <!-- End Google Tag Manager -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body.blackout {
            background-color: black;
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }
    </style>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WJ5LN7PH"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <img id="background" src="/assets/background/basement.jpg" class="w-full h-full bg-center fixed top-0 left-0 z-[-1]" alt="">

    <div id="modal-wrapper" class="modal"></div>

    <div class="flex flex-col justify-center items-center">
        <div class="flex flex-col justify-center items-center w-80 xxs:w-90 xs:w-96 p-4 m-4 mb-0 border-4 text-center bg-paper">
            <a href="/">
                <img alt="" loading="lazy" width="540" height="40" decoding="async" data-nimg="1" class="cursor-pointer pixelated" style="color:transparent" src="/assets/background/connectisaac_logo.png">
            </a>
            <div class="flex">
                <div class="mt-4 mx-4 flex flex-row justify-center w-full">
                    <div class="cursor-pointer mx-2" data-modal="informations">
                        <svg class="svg-option" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" version="1.1" id="Capa_1" viewBox="0 0 45.476 45.475" xml:space="preserve">
                            <g>
                                <g>
                                    <path d="M38.816,6.66c-8.879-8.879-23.276-8.88-32.156,0c-8.879,8.88-8.879,23.276,0,32.156c8.88,8.879,23.276,8.88,32.156,0    C47.694,29.936,47.694,15.54,38.816,6.66z M34.149,34.149c-6.304,6.304-16.521,6.303-22.822,0s-6.302-16.52,0-22.822    c6.303-6.303,16.521-6.302,22.822,0C40.45,17.629,40.45,27.846,34.149,34.149z"/>
                                    <path d="M22.737,17.77c-1.512,0-3,1.225-3,2.735v12.131c0,1.511,1.488,2.735,3,2.735c1.511,0,3-1.226,3-2.735V20.505    C25.737,18.995,24.248,17.77,22.737,17.77z"/>
                                    <path d="M22.72,10.103c-1.764,0-2.915,1.188-2.88,2.771c-0.035,1.512,1.116,2.735,2.844,2.735c1.802,0,2.952-1.224,2.952-2.735    C25.6,11.291,24.485,10.103,22.72,10.103z"/>
                                </g>
                            </g>
                        </svg>
                    </div>
                    <div class="cursor-pointer mx-2" data-modal="options">
                        <svg class="svg-option" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" version="1.1" viewBox="0 0 45.973 45.973" xml:space="preserve">
                            <g>
                                <g>
                                    <path d="M43.454,18.443h-2.437c-0.453-1.766-1.16-3.42-2.082-4.933l1.752-1.756c0.473-0.473,0.733-1.104,0.733-1.774    c0-0.669-0.262-1.301-0.733-1.773l-2.92-2.917c-0.947-0.948-2.602-0.947-3.545-0.001l-1.826,1.815    C30.9,6.232,29.296,5.56,27.529,5.128V2.52c0-1.383-1.105-2.52-2.488-2.52h-4.128c-1.383,0-2.471,1.137-2.471,2.52v2.607    c-1.766,0.431-3.38,1.104-4.878,1.977l-1.825-1.815c-0.946-0.948-2.602-0.947-3.551-0.001L5.27,8.205    C4.802,8.672,4.535,9.318,4.535,9.978c0,0.669,0.259,1.299,0.733,1.772l1.752,1.76c-0.921,1.513-1.629,3.167-2.081,4.933H2.501    C1.117,18.443,0,19.555,0,20.935v4.125c0,1.384,1.117,2.471,2.501,2.471h2.438c0.452,1.766,1.159,3.43,2.079,4.943l-1.752,1.763    c-0.474,0.473-0.734,1.106-0.734,1.776s0.261,1.303,0.734,1.776l2.92,2.919c0.474,0.473,1.103,0.733,1.772,0.733    s1.299-0.261,1.773-0.733l1.833-1.816c1.498,0.873,3.112,1.545,4.878,1.978v2.604c0,1.383,1.088,2.498,2.471,2.498h4.128    c1.383,0,2.488-1.115,2.488-2.498v-2.605c1.767-0.432,3.371-1.104,4.869-1.977l1.817,1.812c0.474,0.475,1.104,0.735,1.775,0.735    c0.67,0,1.301-0.261,1.774-0.733l2.92-2.917c0.473-0.472,0.732-1.103,0.734-1.772c0-0.67-0.262-1.299-0.734-1.773l-1.75-1.77    c0.92-1.514,1.627-3.179,2.08-4.943h2.438c1.383,0,2.52-1.087,2.52-2.471v-4.125C45.973,19.555,44.837,18.443,43.454,18.443z     M22.976,30.85c-4.378,0-7.928-3.517-7.928-7.852c0-4.338,3.55-7.85,7.928-7.85c4.379,0,7.931,3.512,7.931,7.85    C30.906,27.334,27.355,30.85,22.976,30.85z"/>
                                </g>
                            </g>
                        </svg>
                    </div>
                    <div class="cursor-pointer mx-2">
                        <svg class="svg-option" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" version="1.1" viewBox="0 0 45.973 45.973" xml:space="preserve">
                            <g>
                                <g>
                                    <path d="M43.454,18.443h-2.437c-0.453-1.766-1.16-3.42-2.082-4.933l1.752-1.756c0.473-0.473,0.733-1.104,0.733-1.774    c0-0.669-0.262-1.301-0.733-1.773l-2.92-2.917c-0.947-0.948-2.602-0.947-3.545-0.001l-1.826,1.815    C30.9,6.232,29.296,5.56,27.529,5.128V2.52c0-1.383-1.105-2.52-2.488-2.52h-4.128c-1.383,0-2.471,1.137-2.471,2.52v2.607    c-1.766,0.431-3.38,1.104-4.878,1.977l-1.825-1.815c-0.946-0.948-2.602-0.947-3.551-0.001L5.27,8.205    C4.802,8.672,4.535,9.318,4.535,9.978c0,0.669,0.259,1.299,0.733,1.772l1.752,1.76c-0.921,1.513-1.629,3.167-2.081,4.933H2.501    C1.117,18.443,0,19.555,0,20.935v4.125c0,1.384,1.117,2.471,2.501,2.471h2.438c0.452,1.766,1.159,3.43,2.079,4.943l-1.752,1.763    c-0.474,0.473-0.734,1.106-0.734,1.776s0.261,1.303,0.734,1.776l2.92,2.919c0.474,0.473,1.103,0.733,1.772,0.733    s1.299-0.261,1.773-0.733l1.833-1.816c1.498,0.873,3.112,1.545,4.878,1.978v2.604c0,1.383,1.088,2.498,2.471,2.498h4.128    c1.383,0,2.488-1.115,2.488-2.498v-2.605c1.767-0.432,3.371-1.104,4.869-1.977l1.817,1.812c0.474,0.475,1.104,0.735,1.775,0.735    c0.67,0,1.301-0.261,1.774-0.733l2.92-2.917c0.473-0.472,0.732-1.103,0.734-1.772c0-0.67-0.262-1.299-0.734-1.773l-1.75-1.77    c0.92-1.514,1.627-3.179,2.08-4.943h2.438c1.383,0,2.52-1.087,2.52-2.471v-4.125C45.973,19.555,44.837,18.443,43.454,18.443z     M22.976,30.85c-4.378,0-7.928-3.517-7.928-7.852c0-4.338,3.55-7.85,7.928-7.85c4.379,0,7.931,3.512,7.931,7.85    C30.906,27.334,27.355,30.85,22.976,30.85z"/>
                                </g>
                            </g>
                        </svg>
                    </div>
                    <div class="cursor-pointer mx-2">
                        <svg class="svg-option" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" version="1.1" viewBox="0 0 45.973 45.973" xml:space="preserve">
                            <g>
                                <g>
                                    <path d="M43.454,18.443h-2.437c-0.453-1.766-1.16-3.42-2.082-4.933l1.752-1.756c0.473-0.473,0.733-1.104,0.733-1.774    c0-0.669-0.262-1.301-0.733-1.773l-2.92-2.917c-0.947-0.948-2.602-0.947-3.545-0.001l-1.826,1.815    C30.9,6.232,29.296,5.56,27.529,5.128V2.52c0-1.383-1.105-2.52-2.488-2.52h-4.128c-1.383,0-2.471,1.137-2.471,2.52v2.607    c-1.766,0.431-3.38,1.104-4.878,1.977l-1.825-1.815c-0.946-0.948-2.602-0.947-3.551-0.001L5.27,8.205    C4.802,8.672,4.535,9.318,4.535,9.978c0,0.669,0.259,1.299,0.733,1.772l1.752,1.76c-0.921,1.513-1.629,3.167-2.081,4.933H2.501    C1.117,18.443,0,19.555,0,20.935v4.125c0,1.384,1.117,2.471,2.501,2.471h2.438c0.452,1.766,1.159,3.43,2.079,4.943l-1.752,1.763    c-0.474,0.473-0.734,1.106-0.734,1.776s0.261,1.303,0.734,1.776l2.92,2.919c0.474,0.473,1.103,0.733,1.772,0.733    s1.299-0.261,1.773-0.733l1.833-1.816c1.498,0.873,3.112,1.545,4.878,1.978v2.604c0,1.383,1.088,2.498,2.471,2.498h4.128    c1.383,0,2.488-1.115,2.488-2.498v-2.605c1.767-0.432,3.371-1.104,4.869-1.977l1.817,1.812c0.474,0.475,1.104,0.735,1.775,0.735    c0.67,0,1.301-0.261,1.774-0.733l2.92-2.917c0.473-0.472,0.732-1.103,0.734-1.772c0-0.67-0.262-1.299-0.734-1.773l-1.75-1.77    c0.92-1.514,1.627-3.179,2.08-4.943h2.438c1.383,0,2.52-1.087,2.52-2.471v-4.125C45.973,19.555,44.837,18.443,43.454,18.443z     M22.976,30.85c-4.378,0-7.928-3.517-7.928-7.852c0-4.338,3.55-7.85,7.928-7.85c4.379,0,7.931,3.512,7.931,7.85    C30.906,27.334,27.355,30.85,22.976,30.85z"/>
                                </g>
                            </g>
                        </svg>
                    </div>
                </div>
            </div>
        </div>

        <div class="flex flex-col justify-center items-center w-72 xxs:w-80 xs:w-96 p-4 m-4 mb-0 border-4 text-2xl text-center bg-paper">
            <div class="text-center upheaval">Next connection in</div>
            <div class="text-center"><span class="countdown upheaval"></span></div>
        </div>

        <div  class="flex flex-col justify-center items-center p-4 m-4 mb-0 border-4 text-center bg-paper" id="cards-game">
            <div id="cards-win">
                <ol class="solved-groups">
                    
                </ol>
            </div>
            <div id="cards-module" class="cards-module grid grid-cols-4 gap-4">
            </div>

            <section class="health flex justify-center upheaval">
                <p>Health:</p>
                <span class="flex ml-2 items-center hearts">
                </span>
            </section>

            <section class="buttons flex justify-center mt-4">
                <button type="button" data-id="shuffle" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mr-2">Shuffle</button>
                <button type="button" data-id="deselect" class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded mr-2 button--disabled" disabled>Deselect</button>
                <button type="button" data-id="submit" class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded button--disabled" disabled>Submit</button>
                <button class="bg-purple-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded" onclick="removeCookies(); document.location.reload()">Recommencer</button>
            </section>
        </div>
    </div>
</body>

<script src="//cdnjs.cloudflare.com/ajax/libs/seedrandom/3.0.5/lib/alea.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/js-cookie@3.0.5/dist/js.cookie.min.js"></script>
<script type="module" src="/modals.js"></script>
<script type="module" src="/index.js"></script>
<script>
    function numberWithLeadingZeros(number, length = 3)
    {
        while (number.toString().length < length)
        {
            number = '0' + number;
        }

        return number;
    }

    function removeCookies()
    {
        Object.keys(Cookies.get()).forEach(function(cookieName) {
            Cookies.remove(cookieName);
        });
    }

    function copyResult()
    {
        const title = document.querySelector('[data-id="results--title"]');
        const result = document.querySelector('[data-id="results"]');

        let textToCopy = title.textContent + "\n";

        let health = Cookies.get("health");
        if (health === undefined)
        {
            health = document.querySelectorAll('[data-type="health"]').length;
        }
        textToCopy += `❤️: ${health} 💔: ${5 - health}\n`;
        
        result.childNodes.forEach((node, index) => {
            items = document.querySelectorAll(`[data-id^="results-attempt${index}-"]`);
            items.forEach(item => {
                let indexGroup = + item.getAttribute('data-id').split('-group')[1];
                switch (indexGroup)
                {
                    case 0:
                        textToCopy += "🟥";
                        break;
                    case 1:
                        textToCopy += "🟦";
                        break;
                    case 2:
                        textToCopy += "🟩";
                        break;
                    case 3:
                        textToCopy += "🟪";
                        break;
                }
            });
            textToCopy += "\n";
        });

        navigator.clipboard.writeText(textToCopy);
    }
</script>
<script>
    function getTimeRemaining() {
        const now = new Date();
        const target = new Date(now.getFullYear(), now.getMonth(), now.getDate() + 1, 8, 0, 0, 0);
        const timeRemaining = target - now;
        
        const seconds = Math.floor((timeRemaining / 1000) % 60);
        const minutes = Math.floor((timeRemaining / 1000 / 60) % 60);
        const hours = Math.floor((timeRemaining / (1000 * 60 * 60)) % 24);
        
        return {
            total: timeRemaining,
            hours: hours,
            minutes: minutes,
            seconds: seconds
        };
    }
    
    function updateCountdown() {
        const countdownElement = document.querySelectorAll('.countdown');
        
        const timeRemaining = getTimeRemaining();
        
        countdownElement.forEach(element => {
            element.textContent = `${numberWithLeadingZeros(timeRemaining.hours, 2)} : ${numberWithLeadingZeros(timeRemaining.minutes, 2)} : ${numberWithLeadingZeros(timeRemaining.seconds, 2)}`;
        });
        
        if (timeRemaining.total <= 0) {
            clearInterval(countdownInterval);
            location.reload();
        }
    }
    
    const countdownInterval = setInterval(updateCountdown, 1000);
</script>
<script>
    "use strict";
    let cookie = Cookies.get("background");
    if (!cookie) {
        Cookies.set("background", "basement");
    }
    else {
        let background = document.getElementById("background");
        background.src = `/assets/background/${cookie}.jpg`;
    }

    function previewBackground(element) {
        let id = element.getAttribute("data-id");
        let background = document.getElementById("background");
        background.src = `/assets/background/${id}.jpg`;
    }

    function resetBackground(element) {
        let background = document.getElementById("background");
        background.src = `/assets/background/${Cookies.get("background")}.jpg`;
    }

    function applyBackground(element) {
        let id = element.getAttribute("data-id");
        let background = document.getElementById("background");
        background.src = `/assets/background/${id}.jpg`;
        Cookies.set("background", id);
        changeText(id);
    }

    function changeText(background) {
        let texts = document.querySelectorAll(".text-green-500");
        texts.forEach(text => {
            text.classList.remove("text-green-500", "font-semibold", "underline");
        });
        let text = document.querySelector(`[data-id="${background}"]`);
        text.classList.add("text-green-500", "font-semibold", "underline");
    }
</script>
<script>
    (function() {
        const sequence = [52, 56, 49, 53, 49, 54, 50, 51, 52, 50]; // Codes des touches 4, 8, 15, 16, 23, 42
        let position = 0;

        document.addEventListener('keydown', (event) => {
            if (event.keyCode === sequence[position]) {
                position++;
                if (position === sequence.length) {
                    document.body.classList.add('blackout');
                    setTimeout(() => {
                        prompt("Vous avez appuyé sur la séquence correcte !");
                    }, 500);
                }
            } else {
                position = 0;
            }
        });
    })();
</script>
</html>